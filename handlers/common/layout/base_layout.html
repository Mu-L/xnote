{% if not show_menu %}
<style type="text/css">
  body {
    background: transparent;
  }

  .main {
    padding: 0px;
  }

  .nav {
    display: none;
  }

  .nav-left {
    display: none;
  }

  .x-body {
    left: 0px;
  }
</style>
{% end %}

{% if not show_search %}
<style type="text/css">
  .nav-left-search {
    display: none;
  }

  .search-box {
    display: none;
  }
</style>
{% end %}

{% if xconfig.DEBUG_HTML_BOX %}
<!-- 用于移动端或者其他不方便调试设备的样式调试 -->
<style type="text/css">
  * {
    box-sizing: border-box;
    border: solid 1px red;
  }
</style>
{% end %}


{# 侧边栏(右侧)是否显示 #}
{% if not show_aside %}
<style type="text/css">
  .x-body {
    right: 0px;
  }

  .aside {
    display: none;
  }
</style>
{% end %}

{% if _user_config.show_sidebar == "false" %}
<style type="text/css">
  .content-left {
    width: 100%;
  }

  .content-right {
    display: none;
  }
</style>
{% end %}

<style type="text/css" id="layout-css"></style>

<script type="text/javascript">
  // JavaScript执行的顺序和<script>标签定义的顺序有关
  // 这里动态生成<style>不会导致闪烁
  (function () {
    function loadStyle() {
      var contentWidth = parseInt("{{CONTENT_WIDTH}}");
      var winWidth = window.innerWidth;
      var marginLeft = (winWidth - contentWidth) / 2;
      // 设置最小的高度
      var rootMinHeight = $(window).height() - 39;

      if (winWidth < contentWidth) {
        contentWidth = winWidth;
        marginLeft = 0;
      }

      var styleText = ".x-center, .nav-container {"
        + "float:left;"
        + "width:" + contentWidth + "px;"
        + "margin-left:" + marginLeft + "px;"
        + "}";

      if (winWidth > contentWidth) {
        styleText += ".mobile-only {display: none;}";
      } else {
        styleText += ".desktop-only {display: none;}";
      }

      styleText += ".root{min-height:" + rootMinHeight + "px;}";

      // 居中的样式
      $("#layout-css").html(styleText);
    };

    loadStyle();

    $(window).on("resize", loadStyle);
    
  })();
</script>