{% extends base %}

{% block body_top %}
    {% include message/component/message_title.html %}
{% end %}


{% block body_left %}
    <!-- Tabé¡µ -->
    {% include message/component/message_tab.html %}

    {% include common/date/month_picker.html %}

    <div class="card">
        {% if len(message_list) == 0 %}
            {% include common/text/empty_text.html %}
        {% end %}

        {% for date, item_list, wday in message_list %}
            <a href="/message?date={{date}}" class="list-link">
                <span>{{date}} {{wday}}</span>
                <div class="float-right">
                    <span class="book-size-span">{{ len(item_list) }}</span>
                    <i class="fa fa-chevron-right"></i>
                </div>
            </a>
        {% end %}
    </div>

    <script type="text/javascript">
        $(function (e) {
            function onMonthSelected(event) {
                var date = event.target;
                window.location.href = "?date=" + date;
            }

            xnote.on("date.month.selected", onMonthSelected);
        })
    </script>

{% end %}

{% block body_right %}
    {% include message/component/message_date_right.html %}
{% end %}
